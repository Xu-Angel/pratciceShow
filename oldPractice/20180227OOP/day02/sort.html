<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        table{
            border: 1px solid red;
        }
    </style>
</head>
<body>
<img src="" alt="">
    <table>
        <thead></thead>
        <tbody></tbody>
    </table>
    <script>
        var data = [
			  {
			    "name":"红楼梦1",
			    "price":20,
			    "hot":30000,
			    "author":"曹雪芹",
			    "id":1
			  },{
			  "name":"水浒传2",
			  "price":10,
			  "hot":300000,
			  "author":"施耐庵",
			  "id":2
			},{
			  "name":"西游记3",
			  "price":5,
			  "hot":10,
			  "author":"吴承恩",
			  "id":3
			},{
			  "name":"三国演义4",
			  "price":40,
			  "hot":10000,
			  "author":"罗贯中",
			  "id":4
			}
			];

            //初始化界面
            var thead=document.getElementsByTagName('thead')[0];
            var tbody=document.getElementsByTagName('tbody')[0];
            // console.log(thead)
         function paint(){
                //初始化头部
            //<tr><td>key</td></tr>
            var head='';
            for(var key in data[0]){
                   head+='<td>'+key+'</td>';
            }
            headL='<tr>'+head+'</tr>';
            // thead.innerHTML=headL
            thead.innerHTML = headL;
            // console.log(headL)
            //初始化内容
            var body='';
            for (var i=0;i<data.length;i++){
                body+='<tr>'
                for(var key in data[i]){
                        body+='<td>'+data[i][key]+'</td>';
                }
                // console.log(body)
                body+='</tr>'
            }
            // console.log(body)
            tbody.innerHTML=body
         }
   paint();
            //排序大小
            var flag=true;
            thead.addEventListener('click',function(e){
         var  sortAttr=e.target.innerHTML;
         console.log(e)
         if(flag){
             
            data.sort(function(ob1,ob2){
                return ob1[sortAttr]-ob2[sortAttr];
         })
         flag=false;
         
         }else{
            data.sort(function(ob1,ob2){
                console.dir(ob2[sortAttr])
                return ob2[sortAttr]-ob1[sortAttr];
            
         })
       
         flag=true;
         }
        
         paint();
            })

    </script>
</body>
</html>