<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>擦除效果</title>
    <style type="text/css">
        *{
                margin: 0;
                padding: 0;
        }
        html,body{
            height: 100%;
        }
        div{

                width: 500px;
                margin:0 auto;
        }

    </style>
</head>
<body>
    <div>
        <canvas id="canvas">
        您的浏览器不支持canvas
        </canvas>
    </div>
<script type="text/javascript">
    var canvas = document.getElementById('canvas');
    canvas.width = 500;
    canvas.height = 500;
    var ctx = canvas.getContext('2d');
    ctx.beginPath();
    ctx.fillStyle = 'gold';
    ctx.fillRect(0,0,499,499);
    ctx.closePath();
    canvas.onmousedown=function(e){
        //清除矩形的左上角点坐标
        var startX = e.clientX-canvas.offsetLeft;
        var startY = e.clientY-canvas.offsetTop;
        canvas.onmousemove=function(e){
            //清楚矩形的右下角点坐标
            var endX = e.clientX-canvas.offsetLeft;
            var endY = e.clientY-canvas.offsetTop;
            ctx.clearRect(startX,startY,endX-startX,endY-startY);
        }
        document.onmouseup=function(){
            canvas.onmousemove = null;
        }

    }
    setTimeout(function(){
       canvas.width = 500;
       canvas.height = 500;
    }, 2000)
</script>
</body>
</html>