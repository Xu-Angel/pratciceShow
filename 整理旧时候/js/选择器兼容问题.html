
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{margin: 0; padding: 0;}
        ul, li{list-style: none;}
        ul{
            margin: 200px 0 0 200px;
        }
        li {
            float: left;
            padding: 10px;
            margin-left: 5px;
            border: 1px solid black;
            cursor: pointer;
        }
        li:first-child{
            margin-left: 0;
        }
        .current{
            border: 1px solid red;
        }
        .font{
            color: lightseagreen;
        }
    </style>
</head>
<body>
<ul>
    <li class="current font">1</li>
    <li class="font">2</li>
    <li class="font">3</li>
    <li class="font">4</li>
    <li class="font">5</li>
    <li class="font">6</li>
</ul>
</body>
<script>
    // 有ie5.5~8的兼容问题
    //var arr = document.getElementsByClassName('font');
    //alert(arr.length);
    alert(fn('font').length);

    function fn(className){
        // 检查浏览器是否支持getElementsByClassName
        if (document.getElementsByClassName){
            // 支持直接使用该方法
            return document.getElementsByClassName(className);
        }
        // 兼容IE9以前的版本
        var arr = document.getElementsByTagName('*');//获取所有标签
        var selected = [];     // 选中的标签
        // 循环所有的标签，查找是否有需要的className
        for (var i=0;i<arr.length;i++){
            // 检查标签的class属性是否包含有指定的名称
            // 1. 获取className
            var classname = arr[i].className;
            
            // 2. 按' '将字符串转换为数组
            var cnArr = classname.split(' ');
            // 3. 循环数组查找是否有内容和指定的类名相同，有就添加到selected并结束循环
            for (var j=0;j<cnArr.length;j++){
                if (cnArr[j] == className){
                    selected.push(arr[i]);
                    break;
                }
            }
            /*
             * ie9才能使用classList
             * if (arr[i].classList.contains(className)){
              selected.push(arr[i]);
            }*/
        }
        return selected;
    }
</script>
</html>






